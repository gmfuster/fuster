
<div>
  <h2 class="CenterMe">Angular notes - Basics</h2>  
  <h4 class="CenterMe">Naming is not always according to standard but I thought it was simpler.</h4>
  <h4 class="CenterMe">When adding new components, remember you may have to restart for them to be found.</h4>
  <h3 class="CenterMe"> <a href="https://medium.com/nerd-for-tech/angular-vs-react-compare-the-very-basics-776fd96fec23"
    target="_new">Check out Angular vs React - basics</a></h3>
  <br />
  <h3 class="CenterMe">Input fields, in general, take only numbers. </h3>


  <div class="PaddedContents">


    <code><strong><u>String Interpolation</u></strong></code><br />
    <code ngNonBindable>{{theVariable}}</code><br />
    <code>&lt; input #theInput type="number"/&gt; </code><br />
    <code> &lt; button (click)="onClickButton1(theInput.value)"&gt; </code><br />
    Type something in this input set as #theInput (only numbers) <input #theInput type="number" /> and send it with this button with (click)="onClickButton1(theInput.value)
     <button (click)="onClickButton1(theInput.value)">send it</button>. It displays in the marked field below, which displays theVariable.<br />
    <mark>{{theVariable}}</mark>

    <hr class="hrClass" />

    <code><strong><u>Property Binding</u> </strong></code><br />
    <code>On second button: [disabled]="theBoolVar"</code><br />
    <code>On button always disabled: [disabled]=true</code><br />
    <code>On Switch Bool button: &lt; (click)="onSwitchTheBoolVar()"&gt; Switch Bool&lt;/button&gt;</code><br />
    Use the syntax as [] for the html attributes and use quotes to use a variable for the attributes. Use no quotes assigned to the attribute to <b>hardcode</b> the value.  
    Click the button to switch between true and false and enable or disable the second button (which does nothing).
    <button (click)="onSwitchTheBoolVar()">Switch Bool</button> &nbsp; <button [disabled]="theBoolVar">Will Go On/Off</button> &nbsp;<button [disabled]=true>Always Disabled</button><br />
    For an event, use (click)="onSwitchTheBoolVar<b>($event)</b>" and <b>event:any or event:Event</b> in the ts file as the parameter received for the event, if you need access to the event info.

    <hr class="hrClass" />

    <code><strong><u>2-way Binding</u></strong> </code><br />
    <code ngNonBindable>&lt;input type="number"[(ngModel)]="theVariable"/&gt;</code><br />
    <code ngNonBindable>app.module.ts -- import FormsModule from '@angular/forms'</code><br />
    Use ngModel in the input field.  It will update the variable right away and from the ts code, which we link to the same variable for the display too, 
    it will update right away.  Click the button to update the variable to something different.
    <input type="number" [(ngModel)]="theVariable"/><br/><br/>
    <mark>{{theVariable}}</mark><br/><br/>
    <button (click)="onSetVariableToHello()">call onSetVariableToHello</button>
    

    <hr class="hrClass" />

    <code><strong><u>Angular Directive</u></strong></code><br />
    <code ngNonBindable>*ngIf</code><br />
    <code ngNonBindable>&lt;mark *ngIf="theBoolVar" &gt;</code><br />
    The marked test below will show depending on a boolean variable on the ts file.  Change the value with the button.<br/>
    <button (click)="onSwitchTheBoolVar()">Switch Boolean</button><br/><br/>
    <mark *ngIf="theBoolVar">I go on and off</mark><br/><br/>
    
    <code ngNonBindable><u>*ngIf with else</u></code><br />    
    <code ngNonBindable>&lt;mark *ngIf="theBoolVar; else onElse;" &gt;I go on and off&lt;/mark&gt;</code><br/>
    <code ngNonBindable>&lt;ng-template #onElse&gt;I show up on else (false)&lt;/mark&gt;</code><br/>
    The marked test below will show depending on a boolean variable on the ts file.  There is an ng-template for the else
    that will show on false.  Change the value with the button.<br/>
    <button (click)="onSwitchTheBoolVar()">Switch Boolean</button><br/><br/>
    <mark *ngIf="theBoolVar; else onElse;" >I go on and off</mark><br/><br/>
    <ng-template #onElse><mark >I show up on else (false)</mark></ng-template>

    <hr class="hrClass" />
  
    <code><strong><u>Angular Directive</u></strong></code><br />
    <code ngNonBindable>[ngStyle]="&lbrace;backgroundColor:theColor&rbrace;"</code><br />    
    Click the button to get a random background color by changing theColor property. Could also have a method instead
    of theColor in the span element.  <button (click)="onRandomColor()">Random Color</button><br/>
    span element: <span [ngStyle]="{backgroundColor:theColor}">Hello!</span><br/>
    
    <hr class="hrClass" />

    <code><strong><u>Angular Directive</u></strong></code><br />
    <code ngNonBindable>[ngClass]="&lbrace;redClass:theBoolVar&rbrace;"</code><br />    
    Similar to the examples above, set ngClass to a class (redClass) to set the font to red based on the boolean value (when true). The redClass is in the css file.<br/>
    <button (click)="onSwitchTheBoolVar()">Switch Boolean</button><br/><br/>
    <span [ngClass]="{redClass: theBoolVar}">I'll be red when TheBoolVar is true</span>
  
    <hr class="hrClass" />

    <code><strong><u>Angular Directive</u></strong></code><br />
    <code ngNonBindable>&lt;input type="number" (keydown)="onValueChanged($event)"/&gt;</code><br/>
    <code ngNonBindable>&lt;div*ngFor="let item of theNumArray;"&gt;</code><br />    
    <code ngNonBindable>ts file : onValueChanged(event:KeyboardEvent)...for(let i = 1; i <= parseInt(event.key); i++) populate theNumArray</code><br />    
    Enter a number from 1 to 5 (you can enter more too) and the code will show that many lines.<br/>  
    You can also add let i = index in the ngFor to get the index of the iteration.<br/>
    <input type="number" (keydown)="onValueChanged($event)"/><br/><br/>
    <div *ngFor = "let item of theNumArray;"> {{item}}</div>
    <br/>

    <hr class="hrClass" />

    <code><strong><u>Angular Directive</u></strong></code><br />
    <code ngNonBindable>&lt;div [ngSwitch]="theColor" [ngStyle]= "&lbrace; border:'2px solid skyblue'&rbrace;"/&gt;</code><br/>
    <code ngNonBindable>&lt;p elements inside the div with the ngSwitch: *ngSwitchCase="'aqua'"/&gt;</code><br/>
    The random color button above returns aqua, red, pink, yellow, green, and gray.  Have a switch for the theColor variable for each of those.<br/>
    Notice the single quotes inside the "" on the case elements.  If numbers, don't include the single quotes.  The color is not changing, but the word will change 
    to match the theColor value.<br/>
    <button (click)="onRandomColor()">Random Color</button><br/><br/>
    <div [ngSwitch]="theColor" [ngStyle]="{border:'2px solid skyblue'}">
      <p *ngSwitchCase="'aqua'">aqua</p>
      <p *ngSwitchCase="'red'">red</p>
      <p *ngSwitchCase="'yellow'">yellow</p>
      <p *ngSwitchCase="'green'">green</p>
      <p *ngSwitchCase="'gray'">gray</p>
      <p *ngSwitchDefault>Default</p>
    </div>
    <br/>
    <hr class="hrClass" />

    <code><strong><u>Get Data from Parent Component</u></strong></code><br />
    <code>button calls onRandomColor which assigns a color string to theColor:</code><br />
    <code ngNonBindable>&lt;some-child-component [myColor]= "theColor" [myTextAlias]="theColor"&gt;  -- note this uses the alias name</code><br/>
    <code>On child ts:</code><br />
    <code>@Input() myColor :string="";</code><br />
    <code>@Input('myTextAlias') myText :string="";</code><br />    
    <code>child component: [ngStyle] has backgroundColor:myColor</code><br/>
    <code ngNonBindable>on child component: &lbrace;&lbrace; myText &rbrace;&rbrace; -- use the variable name, not the alias name </code>
    In this angular-notes component we have a theColor variable used above.  Using it here again, but this time, include also a child component
    which will change its background based on the value we get.  It will also display the text sent to it as an alias.<br/>
    (Disregard the button in the child component, it is not being listened to in this code).<br/>
    <button (click)="onRandomColor()">Random Color</button><br/><br/>
    The child component takes in a myColor and a myTextAlias properties.  Both set to the variable.
    <some-child-component [myColor]= "theColor" [myTextAlias]="theColor"></some-child-component>

    <hr class="hrClass" />

    <code><strong><u>Tell Parent of Change in Child</u></strong></code><br />
    <code>&lt;some-child-component (eventOnChildComponentWithEventReturn)="onChildEvent1($event)" (eventOnChildComponentWithKnownObjReturn)="onChildEvent2($event)"&gt;</code><br/>
    <code>On Child: &lt;button (click)="launchEvents($event)"&gt;</code><br/>
    <code>On child ts: @Output() eventOnChildComponentWithKnownObjReturn = new EventEmitter&lt;&lbrace;theName:string, theText:string&rbrace;&gt;();</code><br/>
    <code>On child ts: @Output() eventOnChildComponentWithEventReturn = new EventEmitter&lt;Event&gt;();</code><br/>
    <code>On launchEvents: this.eventOnChildComponentWithKnownObjReturn.emit(&lbrace;theName:"Child Name", theText:"Child Text Hello"&rbrace;);
      or just pass the event down to the eventOnChildComponentWithEventReturn
    </code><br/>
    <code>On parent ts events, have onChildEvent1(event:Event) or onChildEvent2(theEventObj:&lbrace;theName:string, theText:string&rbrace;)</code><br/>
    The parent (this angular notes component) will be listening to events of the child component (some-child-component).<br/>
    When adding EventEmitter, check your import statements.  Make sure it is imported from angular/core.<br/>
    You can get just event from the event on the child, or something specific. Use void if the event returns nothing.<br/><br/>

    <img width="100%" src="assets\images\misc\parentlistenstochildevents.png" alt="parents listens to child events" /><br/><br/>

    <some-child-component (eventOnChildComponentWithEventReturn)="onChildEvent1($event)" (eventOnChildComponentWithKnownObjReturn)="onChildEvent2($event)" ></some-child-component>
    <em><u>Text from event 1:</u> </em><br/>
    {{someText1}}<br/>
    <em><u>Text from event 2:</u> </em><br/>
    {{someText2}}<br/>

    <hr class="hrClass" />

    <code><strong><u>ViewChild</u></strong></code><br />
    This concept has too much to be included here, so instead, check out my article on Medium 
    <a href="https://medium.com/nerd-for-tech/angular-viewchild-for-component-dom-element-element-of-component-and-directive-c23328ee1525"
    target="_new">Angular — ViewChild for component, DOM element, element of component, and directive</a>

    <hr class="hrClass" />

    <code ><strong><u>ng-Content</u></strong></code><br />
    <code><strong>In Parent Component:</strong></code><br/>
    <code>&lt;h1 class="class1" [ngStyle]="&lbrace;backgroundColor:'skyblue'&rbrace;"&gt;Header 1 with class1 going to ng-content on child&lt;/h1&gt;</code><br/>
    <code>&lt;h2 id="header2" [ngStyle]="&lbrace;backgroundColor:'teal'&rbrace;"&gt;Header 2 with header2 id going to ng-content on child&lt;/h2&gt;</code><br/>
    <code>&lt;span [ngStyle]="&lbrace;backgroundColor:'lightyellow'&rbrace;"&gt;I am just inside a span element&lt;/h2&gt;</code><br/>
    <code><strong>In Child Component:</strong></code><br/>
    <code>&lt;ng-content  select=".class1"&gt;   </code><br/>
    <code>&lt;ng-content  select="[id=header2]"&gt;   </code><br/>
    <code>&lt;ng-content  select="span"&gt;   </code><br/>
    I am going to have some ng-content elements in the some-child-component component.  Then I'll use that component here in the angular-notes component.
    Each ng-content in the child will display a different way and it will choose what to put in that container based on some element, class, and id.
    <b>(ng-content cannot have content besides what's passed to it)</b>.<br/>
    <img width="100%" src="assets\images\misc\ng-content.png" alt="ng content elements" /><br/><br/>

    <some-child-component>
      <span [ngStyle]="{backgroundColor:'lightyellow'}">I am just inside a span element</span>
      <h2 id="header2" [ngStyle]="{backgroundColor:'teal'}">Header 2 with header2 id going to ng-content on child</h2>  
      <h1 class="class1" [ngStyle]="{backgroundColor:'skyblue'}">Header 1 with class1 going to ng-content on child</h1>         
    </some-child-component>



    <hr class="hrClass" />
    <code ><strong><u>ContentChild for ng-Content</u></strong></code><br />
    <code><strong>In Parent Component:</strong></code><br/>
    <code>&lt;h1 class="class1" #header1 [ngStyle]="&lbrace;backgroundColor:'skyblue'&rbrace;"&gt;Header 1 with class1 going to ng-content on child&lt;/h1&gt;</code><br/>
    <code>&lt;h2 id="header2" #header2 [ngStyle]="&lbrace;backgroundColor:'teal'&rbrace;"&gt;Header 2 with header2 id going to ng-content on child&lt;/h2&gt;</code><br/>
    <code>&lt;span #span1 [ngStyle]="&lbrace;backgroundColor:'lightyellow'&rbrace;"&gt;I am just inside a span element&lt;/h2&gt;</code><br/>
    <code><strong>In Child Component ts:</strong></code><br/>
    <code>@ContentChild("header1",&lbrace;static:true&rbrace;) header1vble: ElementRef=&lbrace;&rbrace; as ElementRef;</code><br/>
    <code>@ContentChild("header2",&lbrace;static:true&rbrace;) header2vble: ElementRef=&lbrace;&rbrace; as ElementRef;</code><br/>
    <code>@ContentChild("span1",&lbrace;static:true&rbrace;,read:NgStyle) spanvble: NgStyle=&lbrace;&rbrace; as NgStyle;</code><br/>
    You can't use ViewChild for content in an ng-content.  For that you need ContentChild. It returns the first element matching the selector.  
    If the content DOM changes, and a new child matches the selector, the property will be updated.  Use ContentChild
    in the component that has the ng-content to find content that has been projected there.  I am using the same child component as above, which has the ng-content.  
    Set up as in above example except adding #header2 to the h2 element, #header1 to the h1, and #span to the span (that's how I'll access them).  
    Don't forget to import ContentChild from angular/core.<br/>
    Angular initializes the component first. It then raises the ngOnChanges, ngOnInit & ngDoCheck hooks. The projected components are initialized next. 
    And then Angular raises the AfterContentInit & AfterContentChecked hooks.  Then ContentChild is available.  That is the default.  We can use static as true to
    change it(the query will be available once the view has been created, but before change detection runs).  
    Just displaying the ContentChild variables in the console (though commented out).<br/>
    <some-child-component>
      <h1 class="class1" #header1 [ngStyle]="{backgroundColor:'skyblue'}">Header 1 with class1 going to ng-content on child</h1>
      <h2 id="header2" #header2 [ngStyle]="{backgroundColor:'teal'}">Header 2 with header2 id going to ng-content on child</h2>
      <span #span1 [ngStyle]="{backgroundColor:'lightyellow'}">I am just inside a span element</span>
    </some-child-component>

    <hr class="hrClass" />

    <code ><strong><u>Angular Directives and Your Own</u></strong></code><br />
    <code>&lt;p appSomeDirectiveDirective appSomeDirectiveDirective2 fontColor="deeppink"&gt;</code><br/>
    <code>OR</code>
    <code>&lt;p appSomeDirectiveDirective appSomeDirectiveDirective2 [fontColor]="'deeppink'"&gt;</code><br/>
    <code ><strong>In the directive ts file:</strong></code><br />
    <code>@Directive(&lbrace; selector: '[appSomeDirectiveDirective2]' &rbrace;;)</code><br/>
    <code>For directive 2:  @Input() fontColor :string = "green";</code><br/>
    <code>ngOnInit for directive 1: this.theElementRef.nativeElement.style.backgroundColor='lightblue';</code><br/>
    <code>ngOnInit for directive 2: this.theElementRef2.nativeElement.style.color = this.fontColor;</code><br/>
    <code>similar in both directives: constructor(private theElementRef2:ElementRef) - reference it ins the ngOnInit</code>

    Angular directives are cool but we can also create our own.  I'm going to use a component directive some-directive-directive.
    The ts file for this directive is not a @Component but a @Directive.  <strong>Not using renderer in this example </strong>, will use it later for the same thing.
    Remember to include the directive in the app.module.ts so it can be used.  I'll be using that directive in a p element here.  Like for components,
    keep in mind you use the select name on the element where you will use it.<br/>
    I have 2 directives in the same file, and one of them takes a fontColor<br/>
    <p appSomeDirectiveDirective appSomeDirectiveDirective2 [fontColor]="'deeppink'">Some p element using the SomeDirectiveDirective.  </p>


    <hr class="hrClass" />

    <code ><strong><u>Renderer</u></strong></code><br />
    <code>&lt;p appSomeDirectiveDirective3>Some p element using the SomeDirectiveDirective3 with renderer2. </code>&gt;<br/>
    <code>constructor(private theElementRef3:ElementRef, private renderer:Renderer2)</code><br/>
    <code>this.renderer.setStyle(this.theElementRef3.nativeElement, 'background-color', 'green')</code><br/>
    Similar to the above one, but will get a directive 3 that will use renderer to access the style.  Don't forget to include the new directive in the app.module.  I keep 
    doing that. <br/>
    <p appSomeDirectiveDirective3>Some p element using the SomeDirectiveDirective3 with renderer2. </p>

    <hr class="hrClass" />

    <code ><strong><u>HostBinding to change the directive style</u></strong></code><br />
    <code> @HostBinding('style.backgroundColor') backColor :string = 'transparent';</code><br />
    <code>on ngOnInit: this.backColor = 'lightblue';</code><br />
    Going to use a 4th directive to make use of HostBinding to set the background.<br/>
    <p appSomeDirectiveDirective4>Some p element using the SomeDirectiveDirective4 with HostBinding. </p>


    <hr class="hrClass" />
    <code ><strong><u>HostListener for Directive</u></strong></code><br />
    <code>@HostBinding('style.backgroundColor') backColor :string = 'transparent';</code><br/>
    <code>@HostListener('mouseenter') mouseE(eventData:Event)&lbrace; this.backColor = 'lightblue'; &rbrace;</code><br/>
    <code>@HostListener('mouseenter') mouseL(eventData:Event)&lbrace; this.backColor = 'lightpink'; &rbrace;</code><br/>
    Using the paragraph with a 5th directive now, which will listen to the mouse events and change the color that way. Move the cursor on and off the p.<br/>
    <p appSomeDirectiveDirective5>Some p element using the SomeDirectiveDirective5 with HostBinding. </p>

    <hr class="hrClass" />
    <code ><strong><u>Your Own Structural Directive</u></strong></code><br />
    <code>constructor(private templateRef:TemplateRef&lt;any&gt;, private vcRef: ViewContainerRef)&lbrace;&rbrace;</code><br/>
    <code>&lt;div *appSomeDirectiveDirectiveSTR="theNumVariable"&gt; -- set in the input field</code><br/>
    <code>@Input() set appSomeDirectiveDirectiveSTR(number:Number) -- name of set has to match name of selector in directive</code><br/>
    <code>this.vcRef.clear();   </code><br/>
    <code>in a for: this.vcRef.createEmbeddedView(this.templateRef);</code>
    A structural directive is one that changes the structure of the DOM (like ngIf, ngFor, and we use them with *).
    <strong>TemplateRef</strong>: It represents an embedded template that can be used to instantiate embedded views.  
    <strong>ViewContainerRef:</strong> It represents a container where one or more views can be attached.<br/><br/>
    Input a number here (again, no validation so just put a number) to see that number of times repeated.<br/>
    <input [(ngModel)]="theNumVariable" type="text" /><br/>
    <div *appSomeDirectiveDirectiveSTR="theNumVariable">
      I am div 
    </div>
    <br/>
    <br/>
    <hr class="hrClass" />

  </div>

</div> 
